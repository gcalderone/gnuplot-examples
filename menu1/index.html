<!doctype html> <!-- Minimal Mistakes Jekyll Theme 4.16.4 by Michael Rose Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes Free for personal and commercial use under the MIT license https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE --> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/gnuplot-examples/libs/katex/katex.min.css"> <link rel=stylesheet  href="/gnuplot-examples/libs/highlight/github.min.css"> <link rel=stylesheet  href="/gnuplot-examples/css/franklin.css"> <link rel=stylesheet  href="/gnuplot-examples/css/minimal-mistakes.css"> <link rel=stylesheet  href="/gnuplot-examples/css/adjust.css"> <!--[if IE ]> <style> /* old IE unsupported flexbox fixes */ .greedy-nav .site-title { padding-right: 3em; } .greedy-nav button { position: absolute; top: 0; right: 0; height: 100%; } </style> <![endif]--> <link rel=icon  href="/gnuplot-examples/assets/favicon.png"> <title>Code blocks</title> <body class=layout--single > <div class=masthead > <div class=masthead__inner-wrap > <div class=masthead__menu > <nav id=site-nav  class=greedy-nav > <a class=site-title  href="/gnuplot-examples/">@gp & @gsp</a> <ul class=visible-links > <li class=masthead__menu-item ><a href="/gnuplot-examples/menu1/" >2D plots</a> <li class=masthead__menu-item ><a href="/gnuplot-examples/menu2/" >3D plots</a> <li class=masthead__menu-item ><a href="/gnuplot-examples/menu3/">Feature</a> </ul> <button class="greedy-nav__toggle hidden" type=button > <span class=visually-hidden >Toggle menu</span> <div class=navicon ></div> </button> <ul class="hidden-links hidden"></ul> </nav> </div> </div> </div> <div class=initial-content > <div id=main  role=main > <div class="sidebar sticky"> <div itemscope itemtype="https://schema.org/Person"> <!-- <div class=author__avatar > <img src="/gnuplot-examples/assets/minimal-mistakes/zenobia.png" alt="Septimia Zenobia" itemprop=image > </div> --> <!-- <div class=author__content > <h3 class=author__name  itemprop=name >Lazaro Alonso</h3> <p class=author__bio  itemprop=description >Probably not a commoner.</p> </div> --> <div class=author__urls-wrapper > <button class="btn btn--inverse">Follow</button> <ul class="author__urls social-icons"> <li itemprop=homeLocation  itemscope itemtype="https://schema.org/Place"> <i class="fas fa-fw fa-map-marker-alt" aria-hidden=true ></i> <span itemprop=name >Tierra</span> <li><a href="https://twitter.com/LazarusAlon" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden=true ></i> Twitter</a> <li><a href="https://github.com/gcalderone/Gnuplot.jl" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden=true ></i> GitHub</a> </ul> </div> </div> </div> <div class=franklin-content > <h1 id=gp_macro_for_plotting ><a href="#gp_macro_for_plotting">@gp macro for plotting</a></h1> <div class=franklin-toc ><ol><li><a href="#gp_macro_for_plotting">@gp macro for plotting</a><ol><li><a href="#simple_plots">Simple plots</a><li><a href="#full_customize_plot">Full customize plot</a><li><a href="#default_colors_with_lines">Default colors with lines</a><li><a href="#black_background_and_colormaps">Black background, and colormaps</a><li><a href="#color_as_a_third_dimension">Color as a third dimension</a><li><a href="#several_colormaps_and_layout">Several colormaps and layout </a></ol><li><a href="#scatter_plots">Scatter plots </a><ol><li><a href="#simple_scatter_plot">simple scatter plot </a><li><a href="#full_customize_scatter_plot">Full customize scatter plot</a><li><a href="#color_as_a_third_dimension__2">Color as a third dimension</a><li><a href="#filled_curves">Filled curves </a><ol><li><a href="#histograms">Histograms </a></ol></ol></ol></div> <h2 id=simple_plots ><a href="#simple_plots">Simple plots</a></h2> The simplest plot can be generated and save it with</p> <pre><code class="julia hljs"><span class=hljs-keyword >using</span> Gnuplot
<span class=hljs-meta >@gp</span> <span class=hljs-number >1</span>:<span class=hljs-number >10</span>
<span class=hljs-comment >#save("plt2_ex1.gp")</span>
<span class=hljs-comment >#save(term="cairolatex standalone", output="plt2_ex1.tex")</span>
<span class=hljs-comment >#save(term="pdf", output="plt2_ex1.pdf")</span>
save(term=<span class=hljs-string >"png"</span>, output=<span class=hljs-string >"plt2_ex1.png"</span>)</code></pre> <img src="/gnuplot-examples/assets/menu1/code/plt2_ex1.png" alt=""> <p>Here, we are plotting 10 values, from 1 to 10 and the default is to plot <em>points</em>. We can change this by calling <strong>with</strong> within a string and specifying the kind of plot that we want, i.e., <strong>lines</strong>. Additionally, the <strong>legend &#40;label&#41;</strong> for this plot can be called afterwards with <strong>title</strong> as well as the <strong>line color</strong>. Namely, <code> &quot;with lines title &#39;sin&#39; linecolor &#39;black&#39;&quot;</code> &#40; <code> &quot;w l t &#39;sin&#39; lc &#39;black&#39;&quot;</code>, also works&#33;&#41;. See the next example. </p> <p>Also, several options to save to a file are posible. The usuals <code>pdf</code> and <code>png</code> can be used as in the example above. Another two options that may come in handy are </p> <blockquote> <code>file.gp</code>, which you can load directly afterwards in <code>gnuplot</code> with </p> </blockquote> <ul> <li><p><code>gnuplot&gt; load &#39;file.gp&#39;</code></p> </ul> <p>and </p> <blockquote> <code>file.tex</code> in which case you can include directly math-latex style equation and load afterwards in a Latex document. More on this in <strong>advance examples</strong>. </p> </blockquote> <pre><code class="julia hljs"><span class=hljs-keyword >using</span> Gnuplot
t = <span class=hljs-number >0</span>:<span class=hljs-number >0.001</span>:<span class=hljs-number >1</span>
<span class=hljs-meta >@gp</span>(t, sin.(<span class=hljs-number >2</span><span class=hljs-literal >π</span>*<span class=hljs-number >5</span>*t), <span class=hljs-string >"with lines title 'sin' linecolor 'black'"</span>)</code></pre> <img src="/gnuplot-examples/assets/menu1/code/plt2_ex2.png" alt=""> <p>Also, we can plot more than one line as in</p> <pre><code class="julia hljs"><span class=hljs-keyword >using</span> Gnuplot
x = -<span class=hljs-number >2</span><span class=hljs-literal >π</span>:<span class=hljs-number >0.001</span>:<span class=hljs-number >2</span><span class=hljs-literal >π</span>
<span class=hljs-meta >@gp</span>(x, sin.(x), <span class=hljs-string >"w l t 'sin'"</span>, <span class=hljs-string >"set yrange [-1.1:1.1]"</span>, <span class=hljs-string >"set grid"</span>,
    x, cos.(x), <span class=hljs-string >"with linespoints ls 1 t 'cos' "</span>,
    <span class=hljs-string >"set style line 1 lc rgb 'black' lt 1 lw 1 pt 6 pi -200 ps 1.5"</span>)</code></pre> <img src="/gnuplot-examples/assets/menu1/code/plt2_ex3.png" alt=""> <p>where the <strong>yrange</strong> as well as a <strong>grid</strong> are called with <strong>set</strong>. The <code>xrange</code> and <code>yrange</code> can be called directly into the plot. Also, another way to add a new plot to a previuos one is done by using <code>:-</code> after <code>@gp</code>. Namely, </p> <pre><code class="julia hljs"><span class=hljs-keyword >using</span> Gnuplot
x = -<span class=hljs-number >2</span><span class=hljs-literal >π</span>:<span class=hljs-number >0.001</span>:<span class=hljs-number >2</span><span class=hljs-literal >π</span>
<span class=hljs-meta >@gp</span>(x, sin.(x),<span class=hljs-string >"w l t 'sin' lw 2 lc '#56B4E9'"</span>, <span class=hljs-string >"set grid"</span>, 
    xrange = (-<span class=hljs-number >2</span><span class=hljs-literal >π</span> - <span class=hljs-number >0.3</span>, <span class=hljs-number >2</span><span class=hljs-literal >π</span> + <span class=hljs-number >0.3</span>), yrange = (-<span class=hljs-number >1.1</span>,<span class=hljs-number >1.1</span>))
<span class=hljs-meta >@gp</span>(:-, x, cos.(x), <span class=hljs-string >"w l t 'cos' lw 2 lc rgb '#E69F00'"</span>)</code></pre> <img src="/gnuplot-examples/assets/menu1/code/plt2_ex4.png" alt=""> <p>Note that the <code>linewidth</code> can also be called directly and a custom color can also be called, <code>lc &#39;hex&#39;</code>. <h2 id=full_customize_plot ><a href="#full_customize_plot">Full customize plot</a></h2> More customization, as the <code>title</code> of the graph, <code>xlabel</code> , <code>ylabel</code> and legend&#40;label&#41; position can be done as follows: </p> <pre><code class="julia hljs"><span class=hljs-keyword >using</span> Gnuplot
x = -<span class=hljs-number >2</span><span class=hljs-literal >π</span>:<span class=hljs-number >0.001</span>:<span class=hljs-number >2</span><span class=hljs-literal >π</span>
<span class=hljs-meta >@gp</span>(x, sin.(x), <span class=hljs-string >"w l t 'sin' lw 2 lc '#56B4E9'"</span>, <span class=hljs-string >"set grid"</span>, 
    <span class=hljs-string >"set auto fix"</span>,
    <span class=hljs-string >"set offsets graph .05, graph .05, graph .05, graph .05"</span>,
    ylabel=<span class=hljs-string >"Y label"</span>, xlabel=<span class=hljs-string >"X label"</span>, title = <span class=hljs-string >"Title"</span>,
    <span class=hljs-string >"set key bottom left font ',12' title 'Legend' box 2"</span>,)
<span class=hljs-meta >@gp</span>(:-, x, cos.(x), <span class=hljs-string >"w l t 'cos' lw 1.5 dashtype 2 lc '#E69F00'"</span>)</code></pre> <img src="/gnuplot-examples/assets/menu1/code/plt2_ex5.png" alt=""> <p>note that the <code>legend&#40;label&#41;</code> is specified with <code>&quot;set key bottom left ...&quot;</code>, here besides the usual options <code>top lef</code>, <code>top right</code>, etc., you can also write directly the <code>x,y</code> coordinates as <code>&quot;set key at 1,-0.6&quot;</code> for example. </p> <p>The <code>&quot;set auto fix&quot;</code>, and <code>&quot;set offsets graph ...</code> are used to have a proper centered figure. Note also the new <code>dashtype</code> option also called <code>dt</code>. More on that in the following. </p> <p>A set of dash styles is also available. See the next figure. <pre><code class="julia hljs"><span class=hljs-keyword >using</span> Gnuplot
x = -<span class=hljs-number >2</span><span class=hljs-literal >π</span>:<span class=hljs-number >0.001</span>:<span class=hljs-number >2</span><span class=hljs-literal >π</span>
linCol = [<span class=hljs-string >"#000000"</span>, <span class=hljs-string >"#E69F00"</span>, <span class=hljs-string >"#56B4E9"</span>, <span class=hljs-string >"#009E73"</span>,<span class=hljs-string >"#F0E442"</span>]
<span class=hljs-meta >@gp</span>(x, cos.(x), <span class=hljs-string >"w l t 'dt 1' lw 2 dt 1 lc '<span class=hljs-subst >$(linCol[<span class=hljs-number >1</span>])</span>'"</span>,
    <span class=hljs-string >"set grid"</span>, <span class=hljs-string >"set auto fix"</span>,
    <span class=hljs-string >"set offsets graph .05, graph .05, graph .05, graph .05"</span>,
    ylabel=<span class=hljs-string >"Y label"</span>, xlab=<span class=hljs-string >"X label"</span>,
    <span class=hljs-string >"set key b r font ',10' title 'dashtype' opaque"</span>)
<span class=hljs-keyword >for</span> (idx,ϕ) <span class=hljs-keyword >in</span> enumerate(<span class=hljs-number >0.3</span>:<span class=hljs-number >0.3</span>:<span class=hljs-number >1.3</span>)
    <span class=hljs-meta >@gp</span>(:-, x, cos.(x .+ <span class=hljs-number >2</span>ϕ),
    <span class=hljs-string >"w l t 'dt <span class=hljs-subst >$(idx+<span class=hljs-number >1</span>)</span>' lw 2 dt <span class=hljs-subst >$(idx+<span class=hljs-number >1</span>)</span> lc '<span class=hljs-subst >$(linCol[idx+<span class=hljs-number >1</span>])</span>'"</span>)
<span class=hljs-keyword >end</span></code></pre> <img src="/gnuplot-examples/assets/menu1/code/plt2_ex6.png" alt=""> <p>Note how easy is to incorporate normal <code>Julia</code> code, i.e. <code>Strings</code> into <code>Gnuplot</code> commands. Now, also the legend <code>set key bottom right... opaque</code> is used to have a rectangle with white background. <h2 id=default_colors_with_lines ><a href="#default_colors_with_lines">Default colors with lines</a></h2> <pre><code class="julia hljs"><span class=hljs-keyword >using</span> Gnuplot
ecycl_x(r,k,θ) = r*(k .+ <span class=hljs-number >1</span>).*cos.(θ) .- r*cos.((k .+ <span class=hljs-number >1</span>) .* θ)
ecycl_y(r,k,θ) = r*(k .+ <span class=hljs-number >1</span>).*sin.(θ) .- r*sin.((k .+ <span class=hljs-number >1</span>) .* θ)
θ = LinRange(<span class=hljs-number >0</span>,<span class=hljs-number >6.2</span><span class=hljs-literal >π</span>,<span class=hljs-number >1000</span>)
<span class=hljs-meta >@gp</span>(ecycl_x(<span class=hljs-number >1</span>,<span class=hljs-number >1</span>,θ), ecycl_y(<span class=hljs-number >1</span>,<span class=hljs-number >1</span>,θ), <span class=hljs-string >"w l lw 2 t '1'"</span>,
    <span class=hljs-string >"set size square"</span>, title = <span class=hljs-string >"Epicycloid"</span>,
    <span class=hljs-string >"set key outside title 'k, r=2k' box opaque"</span>,
    xlabel = <span class=hljs-string >"x(θ) = r(k+1)cos(θ) -rcos((k+1)θ)"</span>, 
    ylabel = <span class=hljs-string >"y(θ) = r(k+1)cos(θ) -rcos((k+1)θ) "</span>)
<span class=hljs-keyword >for</span> k <span class=hljs-keyword >in</span> <span class=hljs-number >2</span>:<span class=hljs-number >0.5</span>:<span class=hljs-number >5.</span>
    <span class=hljs-meta >@gp</span>(:-, ecycl_x(<span class=hljs-number >2</span>k,k,θ), ecycl_y(<span class=hljs-number >2</span>k,k,θ), <span class=hljs-string >"w l lw 2 t '<span class=hljs-subst >$(k)</span>'"</span>, :-)
<span class=hljs-keyword >end</span>
<span class=hljs-meta >@gp</span></code></pre> <img src="/gnuplot-examples/assets/menu1/code/plt2_ex6dot1.png" alt=""> <h2 id=black_background_and_colormaps ><a href="#black_background_and_colormaps">Black background, and colormaps</a></h2> For a more cumbersome example, consider the following with a <code>black</code> background and colors from <code>ColorSchemes</code>. </p> <pre><code class="julia hljs"><span class=hljs-keyword >using</span> Gnuplot, ColorSchemes
x = -<span class=hljs-number >2</span><span class=hljs-literal >π</span>:<span class=hljs-number >0.001</span>:<span class=hljs-number >2</span><span class=hljs-literal >π</span>
<span class=hljs-keyword >function</span> circShape(h,k,r)
    θ = LinRange(<span class=hljs-number >0</span>,<span class=hljs-number >2</span><span class=hljs-literal >π</span>,<span class=hljs-number >500</span>)
    h .+ r*sin.(θ), k .+ r*cos.(θ)
<span class=hljs-keyword >end</span>
bgcp1 = <span class=hljs-string >"set object rectangle from screen 0,0 to screen 1,1"</span>
bgcp2 = <span class=hljs-string >" behind fillcolor rgb 'black' fillstyle solid noborder"</span>
bgcolor = bgcp1*bgcp2
cmap = get(colorschemes[:viridis], LinRange(<span class=hljs-number >0</span>,<span class=hljs-number >1</span>,<span class=hljs-number >15</span>))
<span class=hljs-meta >@gp</span> <span class=hljs-string >" "</span> :-  <span class=hljs-comment ># this is just to reset session</span>
<span class=hljs-meta >@gp</span>(circShape(<span class=hljs-number >0</span>,<span class=hljs-number >0</span>,<span class=hljs-number >1</span>)..., <span class=hljs-string >"w l lw 2 lc '#<span class=hljs-subst >$(hex(cmap[<span class=hljs-number >3</span>])</span>)'"</span>, 
    <span class=hljs-string >"set key off"</span>, <span class=hljs-string >"set auto fix"</span>,  <span class=hljs-string >"set size square"</span>,
    <span class=hljs-string >"set offsets graph .05, graph .05, graph .05, graph .05"</span>,
    <span class=hljs-string >"set border lw 1 lc rgb 'white'"</span>,
    <span class=hljs-string >"set ylabel 'y' textcolor rgb 'white'"</span>,
    <span class=hljs-string >"set xlabel 'x' textcolor rgb 'white'"</span>,
    <span class=hljs-string >"set xzeroaxis linetype 3 linewidth 1"</span>,
    <span class=hljs-string >"set yzeroaxis linetype 3 linewidth 1"</span>,
    bgcolor)
<span class=hljs-keyword >for</span> (indx,r) <span class=hljs-keyword >in</span> enumerate(<span class=hljs-number >0.9</span>:-<span class=hljs-number >0.1</span>:<span class=hljs-number >0.1</span>)
    <span class=hljs-meta >@gp</span>(:-, circShape(<span class=hljs-number >0</span>,<span class=hljs-number >0</span>,r)..., <span class=hljs-string >"w l lw 2 lc '#<span class=hljs-subst >$(hex(cmap[indx+<span class=hljs-number >3</span>])</span>)'"</span>,
    <span class=hljs-string >"set key off"</span>)
<span class=hljs-keyword >end</span></code></pre> <img src="/gnuplot-examples/assets/menu1/code/plt2_ex7.png" alt=""> <h2 id=color_as_a_third_dimension ><a href="#color_as_a_third_dimension">Color as a third dimension</a></h2> Using as reference the previous example we can use any <code>colormap</code> in <code>Gnuplot</code>&#39;s <code>palettes</code> as a way to enconde a third dimension. </p> <pre><code class="julia hljs"><span class=hljs-keyword >using</span> Gnuplot, Colors, ColorSchemes
x = LinRange(-<span class=hljs-number >2</span><span class=hljs-literal >π</span>,<span class=hljs-number >2</span><span class=hljs-literal >π</span>,<span class=hljs-number >200</span>)
<span class=hljs-meta >@gp</span>(x, -<span class=hljs-number >0.65</span>sin.(<span class=hljs-number >3</span>x), x,  <span class=hljs-string >"w l lw 3 dt 1 lc palette"</span>, 
    <span class=hljs-string >"set key off"</span>, <span class=hljs-string >"set auto fix"</span>)</code></pre> <img src="/gnuplot-examples/assets/menu1/code/plt_ex8.png" alt=""> <p>Here, the default colormap is used. However, if we want more customize colormaps with can use the following definition to call all posible palettes in <code>ColorSchemes</code>. <h2 id=several_colormaps_and_layout ><a href="#several_colormaps_and_layout">Several colormaps and layout </a></h2> <pre><code class="julia hljs"><span class=hljs-keyword >using</span> Gnuplot, Colors, ColorSchemes, Random
Random.seed!(<span class=hljs-number >123</span>)
<span class=hljs-keyword >function</span> custom_palette(colormap=:viridis)
    cmap = get(colorschemes[colormap], LinRange(<span class=hljs-number >0</span>,<span class=hljs-number >1</span>,<span class=hljs-number >256</span>))
    ctmp = <span class=hljs-string >"0 '#<span class=hljs-subst >$(hex(cmap[<span class=hljs-number >1</span>])</span>)',"</span>
    <span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >2</span>:<span class=hljs-number >256</span>; ctmp = ctmp*<span class=hljs-string >"<span class=hljs-subst >$(i-<span class=hljs-number >1</span>)</span> '#<span class=hljs-subst >$(hex(cmap[i])</span>)',"</span> <span class=hljs-keyword >end</span>;
    <span class=hljs-string >"set palette defined("</span>*ctmp[<span class=hljs-number >1</span>:<span class=hljs-keyword >end</span>-<span class=hljs-number >1</span>]*<span class=hljs-string >")"</span>
<span class=hljs-keyword >end</span>
<span class=hljs-comment ># Archimedes spiral</span>
a = <span class=hljs-number >1.5</span>
b = -<span class=hljs-number >2.4</span>
t = LinRange(<span class=hljs-number >0</span>,<span class=hljs-number >5</span>*<span class=hljs-literal >π</span>,<span class=hljs-number >500</span>)
x = (a .+ b*t) .* cos.(t)
y = (a .+ b*t) .* sin.(t)
<span class=hljs-meta >@gp</span> <span class=hljs-string >" "</span> :-  <span class=hljs-comment ># this is just to reset session</span>
<span class=hljs-meta >@gp</span> :- <span class=hljs-string >"set multiplot layout 3,3; set key off; 
    unset ytics; unset xtics; unset border"</span> :-
colormaps = [:magma, :viridis, :plasma, :inferno, :berlin, 
    :leonardo, :devon, :spring, :ice]
<span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:<span class=hljs-number >9</span>
    <span class=hljs-meta >@gp</span> :- i title = <span class=hljs-string >"<span class=hljs-subst >$(colormaps[i])</span>"</span> <span class=hljs-string >"set size square"</span> :-
    <span class=hljs-meta >@gp</span>(:-, x, y, t, <span class=hljs-string >"w l lw 3 dt 1 lc palette"</span>, 
        custom_palette(colormaps[i]),<span class=hljs-string >"set cbtics out nomirror"</span>, :-)
<span class=hljs-keyword >end</span>
<span class=hljs-meta >@gp</span></code></pre> <img src="/gnuplot-examples/assets/menu1/code/plt_ex9.png" alt=""> <h1 id=scatter_plots ><a href="#scatter_plots">Scatter plots </a></h1> Just for the sake of completeness, let&#39;s see several colormaps but this time for different kinds of <strong>point types</strong>, <code>pt</code>. </p> <h2 id=simple_scatter_plot ><a href="#simple_scatter_plot">simple scatter plot </a></h2> <pre><code class="julia hljs"><span class=hljs-keyword >using</span> Gnuplot, Random
Random.seed!(<span class=hljs-number >123</span>)
goffset = <span class=hljs-string >"set offsets graph .05, graph .05, graph .05, graph .05"</span>
<span class=hljs-meta >@gp</span> rand(<span class=hljs-number >30</span>) rand(<span class=hljs-number >30</span>) <span class=hljs-string >"w p pt 4 ps 3 lc '#0072B2' lw 2 t 'marker'"</span> goffset</code></pre> <img src="/gnuplot-examples/assets/menu1/code/plt_ex10.png" alt=""> <p>So, what&#39;s happening here?. Well, basically we have <code>x</code> and <code>y</code> coordinates, here <code>rand&#40;30&#41;</code> and <code>rand&#40;30&#41;</code>, then the corresponding options are specified, i.e. <code> with points pointtype 4 pointsize 3 linecolor &#39;#0072B2&#39; linewidth 2 title &#39;marker&#39;</code>. All in a single line&#33;</p> <h2 id=full_customize_scatter_plot ><a href="#full_customize_scatter_plot">Full customize scatter plot</a></h2> <pre><code class="julia hljs"><span class=hljs-keyword >using</span> Gnuplot, Random
Random.seed!(<span class=hljs-number >123</span>)
goffset = <span class=hljs-string >"set offsets graph .05, graph .05, graph .05, graph .05"</span>
<span class=hljs-meta >@gp</span>(rand(<span class=hljs-number >30</span>), rand(<span class=hljs-number >30</span>), <span class=hljs-string >"w p pt 6 ps 2 lc '#D55E00' lw 2 t 'marker'"</span>,
    goffset, title = <span class=hljs-string >"scatter plot"</span>, xlabel =<span class=hljs-string >"X"</span>, ylabel = <span class=hljs-string >"Y"</span>,
    <span class=hljs-string >"set key b l box opaque"</span>)</code></pre> <img src="/gnuplot-examples/assets/menu1/code/plt_ex11.png" alt=""> <h2 id=color_as_a_third_dimension__2 ><a href="#color_as_a_third_dimension__2">Color as a third dimension</a></h2> <pre><code class="julia hljs"><span class=hljs-keyword >using</span> Gnuplot, Colors, ColorSchemes, Random
Random.seed!(<span class=hljs-number >123</span>)
<span class=hljs-keyword >function</span> custom_palette(colormap=:viridis)
    cmap = get(colorschemes[colormap], LinRange(<span class=hljs-number >0</span>,<span class=hljs-number >1</span>,<span class=hljs-number >256</span>))
    ctmp = <span class=hljs-string >"0 '#<span class=hljs-subst >$(hex(cmap[<span class=hljs-number >1</span>])</span>)',"</span>
    <span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >2</span>:<span class=hljs-number >256</span>; ctmp = ctmp*<span class=hljs-string >"<span class=hljs-subst >$(i-<span class=hljs-number >1</span>)</span> '#<span class=hljs-subst >$(hex(cmap[i])</span>)',"</span> <span class=hljs-keyword >end</span>;
    <span class=hljs-string >"set palette defined("</span>*ctmp[<span class=hljs-number >1</span>:<span class=hljs-keyword >end</span>-<span class=hljs-number >1</span>]*<span class=hljs-string >")"</span>
<span class=hljs-keyword >end</span>
<span class=hljs-meta >@gp</span> <span class=hljs-string >" "</span> :-  <span class=hljs-comment ># this is just to reset session</span>
<span class=hljs-meta >@gp</span> :- <span class=hljs-string >"set multiplot layout 3,3; set key off"</span> :-
cmaps = [:magma, :viridis, :plasma, :inferno, :berlin, :leonardo,
    :devon, :spring, :ice]
<span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-number >1</span>:<span class=hljs-number >9</span>
    <span class=hljs-meta >@gp</span> :- i title = <span class=hljs-string >"<span class=hljs-subst >$(cmaps[i])</span>, pt <span class=hljs-subst >$(i)</span>"</span> <span class=hljs-string >"set size square"</span> :-
    <span class=hljs-meta >@gp</span>(:-, rand(<span class=hljs-number >15</span>), rand(<span class=hljs-number >15</span>), rand(<span class=hljs-number >15</span>), 
    <span class=hljs-string >"w p pt <span class=hljs-subst >$(i)</span> ps 3 lc palette"</span>, custom_palette(cmaps[i]), 
    <span class=hljs-string >"set cbtics out nomirror"</span>, <span class=hljs-string >"set xtics 0,1"</span>, <span class=hljs-string >"set ytics 0,1"</span>, 
    <span class=hljs-string >"set cbtics 0.0,0.2,1.0"</span>, xrange= (-<span class=hljs-number >0.1</span>,<span class=hljs-number >1.1</span>), 
    yrange= (-<span class=hljs-number >0.1</span>,<span class=hljs-number >1.1</span>), :-)
<span class=hljs-keyword >end</span>
<span class=hljs-meta >@gp</span></code></pre> <img src="/gnuplot-examples/assets/menu1/code/plt_ex12.png" alt=""> <h2 id=filled_curves ><a href="#filled_curves">Filled curves </a></h2> <pre><code class="julia hljs"><span class=hljs-keyword >using</span> Gnuplot
x = LinRange(-<span class=hljs-number >10</span>,<span class=hljs-number >10</span>,<span class=hljs-number >200</span>)
fg(x,μ,σ) = exp.(.-(x.-μ).^<span class=hljs-number >2</span> ./(<span class=hljs-number >2</span>σ^<span class=hljs-number >2</span>))./(σ*√(<span class=hljs-number >2</span><span class=hljs-literal >π</span>))
<span class=hljs-meta >@gp</span>(x, fg(x, <span class=hljs-number >0.25</span>, <span class=hljs-number >1.5</span>), <span class=hljs-string >"w filledcurves lc '#E69F00' dt 1 t '0.25,1.5'"</span>, 
    <span class=hljs-string >"set style fill transparent solid 0.3 noborder"</span>, 
    <span class=hljs-string >"set key title 'μ,σ' box 3"</span>, xlab = <span class=hljs-string >"x"</span>, ylab = <span class=hljs-string >"P(x)"</span>)
<span class=hljs-meta >@gp</span>(:-, x, fg(x, <span class=hljs-number >2</span>, <span class=hljs-number >1</span>), <span class=hljs-string >"w filledcu lc '#56B4E9' dt 1 t '2,1'"</span>)
<span class=hljs-meta >@gp</span>(:-, x, fg(x, -<span class=hljs-number >1</span>, <span class=hljs-number >2</span>), <span class=hljs-string >"w filledcu lc '#009E73' dt 1 t '-1,2'"</span>)</code></pre> <img src="/gnuplot-examples/assets/menu1/code/plt_ex13.png" alt=""> <p>With different transparencies </p> <pre><code class="julia hljs"><span class=hljs-keyword >using</span> Gnuplot
x = LinRange(-<span class=hljs-number >10</span>,<span class=hljs-number >10</span>,<span class=hljs-number >200</span>)
fg(x,μ,σ) = exp.(.-(x.-μ).^<span class=hljs-number >2</span> ./(<span class=hljs-number >2</span>σ^<span class=hljs-number >2</span>))./(σ*√(<span class=hljs-number >2</span><span class=hljs-literal >π</span>))
<span class=hljs-meta >@gp</span>(x, fg(x, <span class=hljs-number >0.25</span>, <span class=hljs-number >1.5</span>), <span class=hljs-string >"w filledcurves lc '#E69F00' t '0.25,1.5'"</span>, 
    <span class=hljs-string >"set style fill transparent solid 0.5 noborder"</span>, 
    <span class=hljs-string >"set key title 'μ,σ' box 3"</span>, xlab = <span class=hljs-string >"x"</span>, ylab = <span class=hljs-string >"P(x)"</span>)
<span class=hljs-meta >@gp</span>(:-, x, fg(x, <span class=hljs-number >2</span>, <span class=hljs-number >1</span>), 
    <span class=hljs-string >"w filledcu lc rgb '#56B4E9' t '2,1' fs transparent solid 0.25"</span>)
<span class=hljs-meta >@gp</span>(:-, x, fg(x, -<span class=hljs-number >1</span>, <span class=hljs-number >2</span>), 
    <span class=hljs-string >"w filledcu lc '#009E73' t '-1,2' fs transparent solid 0.1"</span>)</code></pre> <img src="/gnuplot-examples/assets/menu1/code/plt_ex14.png" alt=""> <p>Filling between lines, two examples in one plot. The first entry is the common <code>x</code> variable, the second argument is the first curve and the third the second curve</p> <pre><code class="julia hljs"><span class=hljs-keyword >using</span> Gnuplot
x = LinRange(-<span class=hljs-number >10</span>,<span class=hljs-number >10</span>,<span class=hljs-number >200</span>)
<span class=hljs-meta >@gp</span>(x, sin.(x), sin.(x) .+ <span class=hljs-number >1</span>, 
    <span class=hljs-string >"with filledcu lc '#56B4E9' fs transparent solid 0.3"</span> )
<span class=hljs-meta >@gp</span>(:-,x, cos.(x), <span class=hljs-number >1</span> .+ cos.(x), 
    <span class=hljs-string >"with filledcu lc 'red' fs transparent solid 0.5"</span>)</code></pre> <img src="/gnuplot-examples/assets/menu1/code/plt_ex15.png" alt=""> <h3 id=histograms ><a href="#histograms">Histograms </a></h3> Three different ways two plot histograms. <pre><code class="julia hljs"><span class=hljs-keyword >using</span> Distributions, StatsBase, LinearAlgebra, Random
Random.seed!(<span class=hljs-number >123</span>)
<span class=hljs-keyword >function</span> histVals(μ,σ; npts=<span class=hljs-number >1000</span>, izq = -<span class=hljs-number >8</span>, der = <span class=hljs-number >6</span>, paso = <span class=hljs-number >0.15</span>)
    dist = rand(Normal(μ,σ), npts)
    h = fit(Histogram, dist, izq:paso:der) <span class=hljs-comment >#nbins = 50</span>
    h = normalize(h)
    edg = collect(h.edges[<span class=hljs-number >1</span>])
    centros = (edg[<span class=hljs-number >2</span>:<span class=hljs-keyword >end</span>] .+ edg[<span class=hljs-number >1</span>:<span class=hljs-keyword >end</span>-<span class=hljs-number >1</span>])/<span class=hljs-number >2</span>
    centros, h.weights
<span class=hljs-keyword >end</span>
<span class=hljs-meta >@gp</span>(histVals(<span class=hljs-number >0.25</span>,<span class=hljs-number >0.5</span>)..., <span class=hljs-string >"w boxes t '0.25,0.5' lc '#E69F00'"</span>,
    <span class=hljs-string >"set key title 'μ,σ' box 3"</span>,
    <span class=hljs-string >"set style fill transparent solid 0.45 noborder"</span>,
    xlab = <span class=hljs-string >"x"</span>, ylab = <span class=hljs-string >"P(x)"</span>)
<span class=hljs-meta >@gp</span>(:-, histVals(-<span class=hljs-number >1</span>,<span class=hljs-number >2</span>)..., <span class=hljs-string >"w histeps t '-1,2' lc 'black'"</span>,
    xlab = <span class=hljs-string >"x"</span>, ylab = <span class=hljs-string >"P(x)"</span>)
<span class=hljs-meta >@gp</span>(:-, histVals(<span class=hljs-number >2</span>,<span class=hljs-number >1</span>)..., 
    <span class=hljs-string >"w fillsteps t '2,1' lc '#009E73' fs transparent solid 0.2 noborder"</span>, 
    xlab = <span class=hljs-string >"x"</span>, ylab = <span class=hljs-string >"P(x)"</span>)</code></pre> <img src="/gnuplot-examples/assets/menu1/code/plt_ex16.png" alt=""> <p>more soon... <div class=page-foot > <div class=copyright > &copy; Lazaro Alonso. Last modified: March 21, 2020. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a>. </div> </div> </div> </div> </div> <div class=page__footer > <footer> <div class=page__footer-follow > <ul class=social-icons > <!-- <li><strong>Follow:</strong> <li><a href="https://twitter.com/mmistakes" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden=true ></i> Twitter</a> --> <li><a href="https://github.com/gcalderone/Gnuplot.jl" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden=true ></i> GitHub</a> </ul> </div> <div class=page__footer-copyright >&copy; Lazaro Alonso. Powered by <a href="https://github.com/tlienart/Franklin.jl">Franklin</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel=nofollow >Minimal Mistakes</a>.</div> </footer> </div> <script src="/gnuplot-examples/libs/minimal-mistakes/main.min.js"></script> <script defer src="https://use.fontawesome.com/releases/v5.8.2/js/all.js" integrity="sha384-DJ25uNYET2XCl5ZF++U8eNxPWqcKohUUBUpKGlNLMchM7q4Wjg2CUpjHLaL8yYPH" crossorigin=anonymous ></script>